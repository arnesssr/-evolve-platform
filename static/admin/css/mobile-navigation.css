/* ================================================
   ADMIN MOBILE NAVIGATION + MOBILE UX
   Mirrors reseller mobile UX: bottom bar, mobile fonts, layout guards
   ================================================ */

/* 1) System UI font stack on mobile (Facebook-like) */
@media (max-width: 991.98px) {
  /* Base typography (Facebook-like): use system fonts, comfortable line-height */
  html, body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial,
                 "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif !important;
    font-size: 15px; /* Slightly smaller base on mobile, better on Android */
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
  }
  /* Keep form controls at 16px to prevent iOS zoom */
  button, input, select, textarea, .btn, .form-control, .form-select {
    font-size: 16px;
  }
  /* Ensure common containers inherit the font family without forcing size */
  .admin-wrapper, .admin-main, .admin-content,
  .content-card, .dropdown-menu, .modal {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial,
                 "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif !important;
  }
  /* Scale headings to mobile-friendly sizes */
  h1 { font-size: 20px; }
  h2 { font-size: 18px; }
  h3 { font-size: 17px; }
  h4 { font-size: 16px; }
  h5 { font-size: 15px; }
  h6 { font-size: 14px; }
  /* Admin-specific title */
  .page-title { font-size: 1.25rem; /* ~20px */ }
}

/* 2) Hide desktop sidebar traces and give content full width on mobile */
@media (max-width: 991.98px) {
  /* Sidebar hidden/off-canvas by default */
  .admin-sidebar { transform: translateX(-100%) !important; }
  .admin-sidebar.show { transform: translateX(0) !important; }

  /* Force main area to full width with no left margin regardless of classes */
  .admin-main,
  .admin-main.expanded {
    margin-left: 0 !important;
    width: 100% !important;
  }

  /* Ensure content is not obscured by fixed header and bottom nav */
  .admin-content {
    padding-top: 56px !important;      /* compact mobile header height */
    padding-bottom: 70px !important;   /* bottom nav height */
  }
}

/* 3) Bottom navigation bar */
.mobile-bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #ffffff;
  border-top: 1px solid #e5e7eb;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
  z-index: 1030;
  height: 56px;
  padding: 0;
  display: none; /* hidden on desktop */
  align-items: center;
}

@media (max-width: 991.98px) {
  .mobile-bottom-nav { display: flex; }
}

.mobile-nav-container {
  display: flex;
  justify-content: space-around;
  align-items: center;
  width: 100%;
  height: 100%;
  padding: 0 10px;
}

.mobile-bottom-nav .nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
  height: 100%;
  padding: 8px 5px;
  background: none;
  border: none;
  color: #6b7280;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  -webkit-tap-highlight-color: transparent;
}

.mobile-bottom-nav .nav-item i {
  font-size: 20px;
  margin-bottom: 2px;
  transition: transform 0.2s ease;
}

.mobile-bottom-nav .nav-item span {
  font-size: 11px;
  font-weight: 500;
  white-space: nowrap;
}

.mobile-bottom-nav .nav-item.active { color: #2563eb; }
.mobile-bottom-nav .nav-item.active::before {
  content: '';
  position: absolute;
  top: 0; left: 20%; right: 20%; height: 2px;
  background: #2563eb; border-radius: 0 0 2px 2px;
}

.mobile-bottom-nav .nav-item:active { background-color: rgba(0,0,0,0.05); transform: scale(0.95); }
.mobile-bottom-nav .nav-item:active i { transform: scale(1.1); }

/* 4) Mobile menu offcanvas */
.mobile-offcanvas { --bs-offcanvas-height: 70vh; max-height: 600px; border-top-left-radius: 20px; border-top-right-radius: 20px; }
.mobile-offcanvas .offcanvas-header { padding: 1rem 1.5rem; border-bottom: 1px solid #e5e7eb; }
.mobile-offcanvas .offcanvas-title { font-size: 1.125rem; font-weight: 600; }
.mobile-offcanvas .offcanvas-body { padding: 1rem; overflow-y: auto; }

.mobile-menu-grid { display: flex; flex-direction: column; gap: 1.25rem; }
.menu-section { display: flex; flex-direction: column; gap: 0.5rem; }
.menu-section-title { font-size: 0.75rem; font-weight: 600; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em; margin: 0 0 0.5rem 0.5rem; }
.menu-items { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem; }
.menu-item { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1rem 0.5rem; background: #f9fafb; border-radius: 12px; text-decoration: none; color: #374151; transition: all 0.2s ease; min-height: 80px; -webkit-tap-highlight-color: transparent; }
.menu-item i { font-size: 24px; margin-bottom: 6px; color: #2563eb; }
.menu-item span { font-size: 12px; font-weight: 500; text-align: center; }
.menu-item:active { transform: scale(0.95); background: #e5e7eb; }
.menu-item.text-danger { color: #dc3545; }
.menu-item.text-danger i { color: #dc3545; }

/* 5) Mobile header adjustments */
@media (max-width: 991.98px) {
  .admin-header { height: 56px; padding: 0 1rem; display: flex; align-items: center; }
  .admin-header .container-fluid { padding-left: 0; padding-right: 0; }
  /* Hide hamburger toggle on mobile (use bottom nav) */
  #sidebarToggle { display: none !important; }
}

/* 6) Landscape tweaks */
@media (max-width: 991.98px) and (orientation: landscape) {
  .mobile-bottom-nav { height: 48px; }
  .mobile-bottom-nav .nav-item { padding: 6px 5px; }
  .mobile-bottom-nav .nav-item i { font-size: 18px; margin-bottom: 0; }
  .mobile-bottom-nav .nav-item span { font-size: 10px; }
  .mobile-offcanvas { --bs-offcanvas-height: 90vh; }
  .admin-content { padding-bottom: 60px !important; }
}

/* 7) Small device grid tweak */
@media (max-width: 375px) { .menu-items { grid-template-columns: repeat(2, 1fr); } }

/* 8) Mobile button sizing (Facebook-like) */
@media (max-width: 991.98px) {
  /* Base button: compact but tap-friendly */
  .btn {
    min-height: 36px;
    padding: 6px 12px;
    font-size: 15px;
    line-height: 1.2;
    border-radius: 6px;
  }
  /* Small buttons */
  .btn-sm {
    min-height: 32px;
    padding: 5px 10px;
    font-size: 14px;
  }
  /* Large buttons still compact on mobile */
  .btn-lg {
    min-height: 40px;
    padding: 8px 14px;
    font-size: 15px;
  }
  /* Icon sizing and spacing inside buttons */
  .btn i, .btn .fa, .btn .fas, .btn .far, .btn .bi {
    font-size: 1em;
    line-height: 1;
  }
  .btn i:first-child, .btn .fa:first-child, .btn .fas:first-child, .btn .far:first-child, .btn .bi:first-child { margin-right: 6px; }
  .btn i:last-child, .btn .fa:last-child, .btn .fas:last-child, .btn .far:last-child, .btn .bi:last-child { margin-left: 6px; }
  /* Button groups */
  .btn-group .btn { padding-left: 10px; padding-right: 10px; }
  /* Page actions usually host primary buttons â€” keep compact */
  .page-actions .btn { min-height: 36px; }
}

