{% extends "dashboards/reseller/layouts/reseller-base.html" %}
{% load static %}

{% block title %}Reseller Dashboard - Overview{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'reseller/css/reseller-components.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-overview">
    <!-- Welcome Section -->
    <div class="welcome-section mb-4">
        <h1 class="h3">Welcome back, {{ user.first_name }}!</h1>
        <p class="text-muted">Here's your performance overview for {{ current_month }}</p>
    </div>

    <!-- Key Metrics Row -->
    <div class="row g-3 mb-4">
        <div class="col-12 col-sm-6 col-lg-3">
            {% include 'dashboards/reseller/components/commission-card.html' with title="This Month" amount=monthly_commission %}
        </div>
        <div class="col-12 col-sm-6 col-lg-3">
            {% include 'dashboards/reseller/components/commission-card.html' with title="Active Referrals" amount=active_referrals_count %}
        </div>
        <div class="col-12 col-sm-6 col-lg-3">
            {% include 'dashboards/reseller/components/commission-card.html' with title="Conversion Rate" amount=conversion_rate %}
        </div>
        <div class="col-12 col-sm-6 col-lg-3">
            {% include 'dashboards/reseller/components/commission-card.html' with title="Tier Status" amount=tier_status %}
        </div>
    </div>

    <!-- Charts Section -->
    <div class="row g-3 mb-4">
        <div class="col-12 col-lg-8">
            {% include 'dashboards/reseller/components/earnings-chart.html' %}
        </div>
        <div class="col-12 col-lg-4">
            {% include 'dashboards/reseller/components/referral-card.html' %}
        </div>
    </div>

    <!-- Activity Feed -->
    <div class="row">
        <div class="col-12">
            {% include 'dashboards/reseller/components/activity-feed.html' %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'reseller/js/reseller-app.js' %}"></script>
<script src="{% static 'reseller/js/chart-builder.js' %}"></script>
{% endblock %}
